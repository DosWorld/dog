<?php
    $title="DOG - Developer - Source";
  include("../include/head.php");
?>
  
<!-- Left side -->
  
<?php include("../include/src_left.htmlf"); ?>
  
<!-- Right side -->
<TD>
<pre width="80"><font color="#B22222">/*

BP.C   - DOG - Alternate command processor for (currently) MS-DOS ver 3.30

Copyright (C) 1999,2000 Wolf Bergenheim

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.

Developers:
Wolf Bergenheim (WB)

History
15.08.00 - Extracted from BAT.C, changed t &amp; f to beWORD instead of BYTE - WB

*/</font>

<strong><font color="#4169E1"><a name="do_bp"></a>void do_bp(BYTE n)</font></strong>
{
	WORD t,f;
<font color="#A020F0">#ifdef bat_debug</font>
	BYTE b;
printf(<font color="#666666">"n = %u\n"</font>,n);
<font color="#4169E1">for</font>(b=0;b&lt;n;b++)
printf(<font color="#666666">"do_bp:arg[%d]=(%s)\n"</font>,b,arg[b]);
<font color="#A020F0">#endif</font>

    <font color="#4169E1">switch</font> (n) {
        <font color="#4169E1">case</font> 0:
        <font color="#4169E1">case</font> 1:
            putchar('\x07');
            <font color="#4169E1">break</font>;
        <font color="#4169E1">case</font> 2:
            <font color="#4169E1">if</font> (arg[1][0] == '-') {
                <font color="#4169E1">switch</font> (arg[1][1]) {
                    <font color="#4169E1">case</font> 'h':
                    <font color="#4169E1">case</font> 'H':
                    <font color="#4169E1">case</font> '?':
                        printf(<font color="#666666">"bp [frec time]\n"</font>);
                        <font color="#4169E1">break</font>;
                    <font color="#4169E1">default</font> :
                        printf(<font color="#666666">"Incorrect switch %s\n"</font>,arg[1]);
                        <font color="#4169E1">break</font>;
                }
            }
            <font color="#4169E1">break</font>;
        <font color="#4169E1">case</font> 3:
    		f = atoi(arg[1]);
    		t = atoi(arg[2]);
<font color="#A020F0">#ifdef bp_debug</font>
printf(<font color="#666666">"tone: %uHz %ums\n"</font>,f,t);
<font color="#A020F0">#endif</font>
    		<font color="#4169E1">if</font>(t == 0)
    			<font color="#4169E1">break</font>;
    		<font color="#4169E1">if</font>(f == 0) {
    			delay(t);
    			<font color="#4169E1">break</font>;
    		}
            sound(f);
            delay(t);
    		nosound();
            <font color="#4169E1">break</font>;
<strong><font color="#FF0000">        default:</font></strong>
            puts(<font color="#666666">"Invalid number of arguments."</font>);
    }        
    <font color="#4169E1">return</font>;
}

</pre>


<!-- END of Table-->
</TD></tr></table>


</body>
</html>
